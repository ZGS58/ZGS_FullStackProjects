<div class="login-modal-container">
  <!-- 關閉按鈕 -->
  <button class="close-btn" (click)="close()" type="button">×</button>

  <!-- Tab 切換 -->
  <div class="tabs">
    <button class="tab" [class.active]="activeTab === 'login'" (click)="switchTab('login')" type="button">
      登入
    </button>
    <button class="tab" [class.active]="activeTab === 'register'" (click)="switchTab('register')" type="button">
      註冊
    </button>
  </div>

  <!-- 登入表單 -->
  <div class="form-container" *ngIf="activeTab === 'login'">
    <h2>會員登入</h2>

    <div class="alert alert-danger" *ngIf="loginError">
      {{ loginError }}
    </div>

    <form (ngSubmit)="submitLogin()" autocomplete="off">
      <div class="form-group">
        <label for="username">帳號</label>
        <input type="text" id="username" name="username" [(ngModel)]="username" placeholder="請輸入帳號" autocomplete="off"
          required>
      </div>

      <div class="form-group">
        <label for="password">密碼</label>
        <input type="password" id="password" name="password" [(ngModel)]="password" placeholder="請輸入密碼"
          autocomplete="new-password" required>
      </div>

      <button type="submit" [disabled]="loading" class="submit-btn">
        {{ loading ? '登入中...' : '登入' }}
      </button>
    </form>
  </div>

  <!-- 註冊表單 -->
  <div class="form-container" *ngIf="activeTab === 'register'">
    <h2>會員註冊</h2>

    <div class="alert alert-danger" *ngIf="registerError">
      {{ registerError }}
    </div>

    <div class="alert alert-success" *ngIf="registerSuccess">
      {{ registerSuccess }}
    </div>

    <form (ngSubmit)="submitRegister()" autocomplete="off">
      <div class="form-group">
        <label for="regUsername">帳號</label>
        <input type="text" id="regUsername" name="regUsername" [(ngModel)]="regUsername" placeholder="請輸入帳號"
          autocomplete="off" required>
      </div>

      <div class="form-group">
        <label for="regEmail">電子郵件</label>
        <input type="email" id="regEmail" name="regEmail" [(ngModel)]="regEmail" placeholder="請輸入電子郵件"
          autocomplete="off" required>
      </div>

      <div class="form-group">
        <label for="regFullname">姓名</label>
        <input type="text" id="regFullname" name="regFullname" [(ngModel)]="regFullname" placeholder="請輸入姓名"
          autocomplete="off" required>
      </div>

      <div class="form-group">
        <label for="regPassword">密碼</label>
        <input type="password" id="regPassword" name="regPassword" [(ngModel)]="regPassword" placeholder="請輸入密碼（至少6個字元）"
          autocomplete="new-password" required>
      </div>

      <div class="form-group">
        <label for="regConfirmPassword">確認密碼</label>
        <input type="password" id="regConfirmPassword" name="regConfirmPassword" [(ngModel)]="regConfirmPassword"
          placeholder="請再次輸入密碼" autocomplete="new-password" required>
      </div>

      <button type="submit" [disabled]="loading" class="submit-btn">
        {{ loading ? '註冊中...' : '註冊' }}
      </button>
    </form>
  </div>
</div>
